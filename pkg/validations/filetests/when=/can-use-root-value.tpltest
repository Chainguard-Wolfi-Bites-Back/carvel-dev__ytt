enabled: true
counters:
  #@assert/validate ("fail", lambda v: fail("fails")), when=lambda root: not root[0]["enabled"]
  foo: ""
  #@assert/validate ("fail", lambda v: fail("fails")), when=lambda root, document: root[0]["enabled"] and len(root[0]["counters"]) == 2
  bar: ""

+++

ERR:
  counters.bar
    from: stdin:6
    - must be: fail (by: stdin:5)
      found: fails

